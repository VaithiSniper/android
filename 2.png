package com.example.lab1;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.widget.TextView;
import android.view.View;
import android.widget.EditText;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity {
    TextView result;
    EditText num1, num2;
    char op;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        num1 = findViewById(R.id.num1);
        num2 = findViewById(R.id.num2);
        result = findViewById(R.id.result);
    }

    public void one(View v) {
        if (num1.hasFocus()) {
            num1.append("1");
        } else if (num2.hasFocus()) {
            num2.append("1");
        } else {
            makeToast(v);
        }
    }

    public void two(View v) {
        if (num1.hasFocus()) {
            num1.append("2");
        } else if (num2.hasFocus()) {
            num2.append("2");
        } else {
            makeToast(v);
        }
    }

    public void three(View v) {
        if (num1.hasFocus()) {
            num1.append("3");
        } else if (num2.hasFocus()) {
            num2.append("3");
        } else {
            makeToast(v);
        }
    }

    public void four(View v) {
        if (num1.hasFocus()) {
            num1.append("4");
        } else if (num2.hasFocus()) {
            num2.append("4");
        } else {
            makeToast(v);
        }
    }

    public void five(View v) {
        if (num1.hasFocus()) {
            num1.append("5");
        } else if (num2.hasFocus()) {
            num2.append("5");
        } else {
            makeToast(v);
        }
    }

    public void six(View v) {
        if (num1.hasFocus()) {
            num1.append("6");
        } else if (num2.hasFocus()) {
            num2.append("6");
        } else {
            makeToast(v);
        }
    }

    public void seven(View v) {
        if (num1.hasFocus()) {
            num1.append("7");
        } else if (num2.hasFocus()) {
            num2.append("7");
        } else {
            makeToast(v);
        }
    }

    public void eight(View v) {
        if (num1.hasFocus()) {
            num1.append("8");
        } else if (num2.hasFocus()) {
            num2.append("8");
        } else {
            makeToast(v);
        }
    }

    public void nine(View v) {
        if (num1.hasFocus()) {
            num1.append("9");
        } else if (num2.hasFocus()) {
            num2.append("9");
        } else {
            makeToast(v);
        }
    }

    public void zero(View v) {
        if (num1.hasFocus()) {
            num1.append("0");
        } else if (num2.hasFocus()) {
            num2.append("0");
        } else {
            makeToast(v);
        }
    }

    public void dot(View v) {
        if (num1.hasFocus()) {
            num1.append(".");
        } else if (num2.hasFocus()) {
            num2.append(".");
        } else {
            makeToast(v);
        }
    }

    public void add(View v) {
        op = '+';
    }

    public void sub(View v) {
        op = '-';
    }

    public void div(View v) {
        op = '/';
    }

    public void mul(View v) {
        op = '*';
    }

    public void setResult(View v, char op, float r, float n1, float n2) {
        result.setText("" + n1 + op + n2 + "=" + r);
    }

    public void compute(View v) {
        float n1 = Float.parseFloat(num1.getText().toString()), n2 = Float.parseFloat(num2.getText().toString());
        float r=0;
        switch (op) {
            case '+':
                r = n1 + n2;
                setResult(v, op, r, n1, n2);
                break;
            case '-':
                r = n1 - n2;
                setResult(v, op, r, n1, n2);
                break;
            case '*':
                r = n1 * n2;
                setResult(v, op, r, n1, n2);
                break;
            case '/':
                r = n1 / n2;
                setResult(v, op, r, n1, n2);
                break;
        }
    }

    public void All_Clear(View v) {
        num1.setText("");
        num2.setText("");
        result.setText("");
    }

    public void clear_one_field_completely(View v) {
        if (num1.hasFocus()) {
            num1.setText("");
            result.setText("");
        } else if (num2.hasFocus()) {
            num2.setText("");
            result.setText("");
        } else {
            makeToast(v);
        }
    }

    public void clear_one_digit_at_a_time(View v) {
        if (num1.hasFocus()) {
            String n;
            n = num1.getText().toString();
// n=n.substring(0,n.length()-1); /// deletes digits from right to left
            n = n.substring(1, n.length()); // deletes digits from left to right
            num1.setText(n);
        } else if (num2.hasFocus()) {
            String n;
            n = num2.getText().toString();
// n=n.substring(0,n.length()-1); /// deletes digits from right to left
            n = n.substring(1, n.length()); // deletes digits from left to right
            num2.setText(n);
        } else
            makeToast(v);
    }

    public void makeToast(View v) {
        Toast.makeText(this, "Please get the focus of First/Second", Toast.LENGTH_LONG).show();
    }

}